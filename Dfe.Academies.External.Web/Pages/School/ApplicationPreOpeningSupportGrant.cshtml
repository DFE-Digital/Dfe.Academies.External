@page
@using Dfe.Academies.External.Web.Enums
@using Dfe.Academies.External.Web.Extensions
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model Dfe.Academies.External.Web.Pages.School.ApplicationPreOpeningSupportGrantModel
@{
    ViewData["Title"] = "Apply to become an academy - pre-opening support grant";
}

@section BeforeMain
{
    <a asp-page="ApplicationPreOpeningSupportGrantSummary" asp-route-appId="@Model.ApplicationId" asp-route-urn="@Model.Urn" class="govuk-back-link">Back to pre-opening support grant summary</a>
}

<div class="govuk-grid-column-two-thirds">
	<span class="govuk-caption-l">
		@Model.SchoolName
	</span>
	<h1 class="govuk-heading-l">
		Academy pre-opening support grant
	</h1>
    
	<p class="govuk-body">TEST - from a2c-sip !!</p>

	<form method="post" name="frmApplicationPreOpeningSupportGrant" novalidate="">
		@Html.AntiForgeryToken()
		<input type="hidden" asp-for="Urn"/>
		<input type="hidden" asp-for="ApplicationId"/>		
		<partial name="_HiddenFields"/>
		<div class="@(!ViewData.ModelState.IsValid ? "govuk-form-group--error" : "")">
			<fieldset class="govuk-fieldset">
				<div class="@(!ViewData.ModelState.IsValid ? "govuk-visually-hidden" : "")">
					<partial name="_ValidationSummary" model="Model.ValidationErrorMessagesViewModel"/>
				</div>        
		        
				<div class="govuk-form-group">
					<div class="govuk-radios govuk-radios--conditional" data-module="govuk-radios">
                        @foreach (var payFundsToOption in Enum.GetValues(typeof(PayFundsTo)).OfType<PayFundsTo>())
						{
							<div class="govuk-radios__item">
								<input type="radio"
                                   asp-for="PayFundsTo"
									value="@Convert.ToInt32(payFundsToOption)"
									id="payFundsToOption@(payFundsToOption)"
									class="govuk-radios__input"
									data-aria-controls="payFundsToOption-@(payFundsToOption.ToString().ToLower())"
									aria-expanded="False"/>
									<label for="payFundsToOption@(payFundsToOption)" class="govuk-label govuk-radios__label">
										@payFundsToOption.GetDescription()
									</label>
							</div>
						}
                        // TODO MR:- Conditional radio's - just text && link though !!!!!!!!!
					</div>
				</div>
			</fieldset>
		</div>
		<br/>
		<input type="submit" value="Save and return to overview" class="govuk-button govuk-!-margin-top-2 govuk-!-margin-bottom-8"/>
	</form>
</div>