@page
@using Dfe.Academies.External.Web.Extensions
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model Dfe.Academies.External.Web.Pages.Trust.FormAMat.ApplicationNewTrustSummaryModel
@{
	ViewData["Title"] = "Apply to become an academy - About the conversion";
}

@section BeforeMain
{
	<a asp-page="../../ApplicationOverview" asp-route-appId="@Model.ApplicationId" class="govuk-back-link">Back to application overview</a>
}

<div class="govuk-grid-column-full">
	<span class="govuk-caption-l">
		@Model.ApplicationType.GetDescription()
	</span>
	<h1 class="govuk-heading-l">@Model.TrustName</h1>
	
	@if (Model.FormAMatTrustComponents.TrustComponents.Any())
    {
    	<table class="govuk-table">
    		<tbody class="govuk-table__body">
    		@foreach (var component in Model.FormAMatTrustComponents.TrustComponents)
    		{
    			<tr class="govuk-table__row">
    				<td class="govuk-table__cell">
    					<a asp-page="@component.URI" aria-describedby="component-@(component.Name)-status" class="govuk-link"
    					   asp-route-appId="@Model.ApplicationId">
    						@component.Name
    					</a>
    				</td>
    				<td class="govuk-table__cell govuk-!-text-align-right">
    					@{
    						var statusValue = (int)component.Status;
    					}
    					<status enumvalue=@statusValue></status>
    				</td>
    			</tr>
    		}
    		</tbody>
    	</table>  
    }
	
	
	<a asp-page="../../ApplicationOverview" asp-route-appId="@Model.ApplicationId" class="govuk-button" data-module="govuk-button">Save and return to your application</a>
</div>

<partial name="_HiddenFields" />